{% extends 'base.html.twig' %}

{% block title %}Mon compte
{% endblock %}

{% block body %}

	<section class="container my-5" id="shadow-container">
		<div class="row">
			<div class="col">
				<h1 id="title-gradiant" class="my-3">Mon compte</h1>

				<table class="table-responsive m-3" id="user-table">
					<tbody>
						<tr>
							<th>Email</th>
							<td>{{ user.email }}</td>
						</tr>
						<tr>
							<th>Pr√©nom</th>
							<td>{{ user.firstName }}</td>
						</tr>
						<tr>
							<th>Nom</th>
							<td>{{ user.lastName }}</td>
						</tr>
						<tr>
							<th>Compteur d'aide</th>
							<td>{{ user.helpCount }}</td>
						</tr>
					</tbody>
				</table>

				<a href="{{ path('app_main') }}" class="btn btn-info m-3">Retour accueil</a>
			</div>
		</div>
	</section>

    <section class="container my-4" id="shadow-container">
        <div class="row">
            <div class="col">
                <h3 id="title-gradiant" class="my-3">Mes Tickets</h3>
                <table class="table-responsive m-3" id="user-table">
                    <tbody>
                        {% for ticket in user.tickets %}
							<tr>
								<th>Titre: </th>
								<td>
									{{ ticket.title }}
								</td>
							</tr>
							<tr>
								<th>Date: </th>
								<td>
									{{ ticket.dateTime ? ticket.dateTime|date('Y-m-d H:i:s'): '' }}
								</td>
							</tr>
							<tr>					
								{% for picture in ticket.pictures %}
                                    {% if ticket.pictures != null %}
                                    <th>Capture: </th>
                                    <td>
										<img src="{{ asset('image/pictures/') ~ picture.name }}" alt="">
									</td>
                                    {% endif %}
								{% endfor %}
							</tr>
							<tr>
								<th>Description: </th>
								<td>
									{{ ticket.description }}
								</td>
							</tr>
						{% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <section class="container my-5" id="shadow-container">
        <div class="row">
            <div class="col">
                <h3 id="title-gradiant" class="my-3">Mes Commentaires</h3>
                <table class="table-responsive m-3" id="user-table">
                    <tbody>
                        {% for comment in user.comments %}
                            <tr>
								<th>Date: </th>
								<td>
									{{ comment.dateTime ? comment.dateTime|date('Y-m-d H:i:s'): '' }}
								</td>
							</tr>
							<tr>
                            {% for picture in comment.pictures %}
                                {% if comment.pictures != null %}
                                    <th>Capture: </th>
                                    <td>
                                        <img src="{{ asset('image/pictures/') ~ picture.name }}" alt="">
                                    </td>
                                {% endif %}
                            {% endfor %}
							</tr>
							<tr>
								<th>Description: </th>
								<td>
								    {{ comment.content }}	
								</td>
							</tr>
                            		
						{% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </section>

{% endblock %}

