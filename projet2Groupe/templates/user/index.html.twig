{% extends 'base.html.twig' %}

{% block title %}User index
{% endblock %}

{% block body %}
	<main class="container my-3">
		<section class="row">
			<div class="col table-responsive">
				<h1>User index</h1>
				<table class="table">
					<thead>
						<tr>
							<th>Id</th>
							<th>Email</th>
							<th>Roles</th>
							<th>FirstName</th>
							<th>LastName</th>
							<th>HelpCount</th>
							<th>actions</th>
						</tr>
					</thead>
					<tbody>
						{% for user in users %}
							<tr>
								<td>{{ user.id }}</td>
								<td>{{ user.email }}</td>
								<td>{{ user.roles ? user.roles|json_encode : '' }}</td>
								<td>{{ user.firstName }}</td>
								<td>{{ user.lastName }}</td>
								<td>{{ user.helpCount }}</td>
								<td>
									<a href="{{ path('app_user_edit', {'id': user.id}) }}" class="btn btn-primary">Modifier</a>
								</td>
							</tr>
						{% else %}
							<tr>
								<td colspan="8">no records found</td>
							</tr>
						{% endfor %}
					</tbody>
				</table>
                <a href="{{ path('admin_index') }}" class="btn btn-primary">Retour Admin</a>
			</div>
		</section>
	</main>
{% endblock %}

